<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
<link href="./style.css" rel="stylesheet">
<link href="./fonts/style.css" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
<script src="./lib.js"></script>
<title>Tactle</title>
</head>
<body>
  <div class="menu">
    <h1>Tactle/<span class="puzzle"></span></h1>
    <div onClick="showPanel('how')"><span class="icon-info"></span></div>
  </div>
  <div class="grid">
    <div class="row" data-row="1">
      <div class="tile dk" data-col="1"></div>
      <div class="tile" data-col="2"></div>
      <div class="tile dk" data-col="3"></div>
      <div class="tile" data-col="4"></div>
      <div class="tile dk" data-col="5"></div>
    </div>
    <div class="row" data-row="2">
      <div class="tile" data-col="1"></div>
      <div class="tile dk" data-col="2"></div>
      <div class="tile" data-col="3"></div>
      <div class="tile dk" data-col="4"></div>
      <div class="tile" data-col="5"></div>
    </div>
    <div class="row" data-row="3">
      <div class="tile dk" data-col="1"></div>
      <div class="tile" data-col="2"></div>
      <div class="tile dk" data-col="3"></div>
      <div class="tile" data-col="4"></div>
      <div class="tile dk" data-col="5"></div>
    </div>
    <div class="row" data-row="4">
      <div class="tile" data-col="1"></div>
      <div class="tile dk" data-col="2"></div>
      <div class="tile" data-col="3"></div>
      <div class="tile dk" data-col="4"></div>
      <div class="tile" data-col="5"></div>
    </div>
    <div class="row" data-row="5">
      <div class="tile dk" data-col="1"></div>
      <div class="tile" data-col="2"></div>
      <div class="tile dk" data-col="3"></div>
      <div class="tile" data-col="4"></div>
      <div class="tile dk" data-col="5"></div>
    </div>
    <div class="row" data-row="6">
      <div class="tile" data-col="1"></div>
      <div class="tile dk" data-col="2"></div>
      <div class="tile" data-col="3"></div>
      <div class="tile dk" data-col="4"></div>
      <div class="tile" data-col="5"></div>
    </div>
    <div class="row" data-row="7">
      <div class="tile dk" data-col="1"></div>
      <div class="tile" data-col="2"></div>
      <div class="tile dk" data-col="3"></div>
      <div class="tile" data-col="4"></div>
      <div class="tile dk" data-col="5"></div>
    </div>

    <div class="active hidden" data-x="1" data-y="6">
      <svg xmlns='http://www.w3.org/2000/svg' viewbox='0 0 40 40' preserveAspectRatio='none'>
        <style>
            rect, path {
              fill: none;
              stroke: rgb(255, 238, 0);
              stroke-width: 2px;
              vector-effect: non-scaling-stroke;
              stroke-dasharray: 4px;
              animation: stroke 0.5s linear infinite;
              shape-rendering: geometricPrecision;
              stroke-dashoffset: 8px;
            }
            rect {
              stroke-width: 4px;
            }
        
            @keyframes stroke {
              to {
                stroke-dashoffset: 0;
              }
            }
          </style>
          <rect width='40' height='40'/>
        </svg>
    </div>
  </div>
  
  <div class="controls">
    <div class="rewind hidden" onClick="rewind()"><span class="icon-rewind"></span></div>
  </div>
    
  <div class="overlay hidden">
    <div class="panel hidden">
      <div class="close" onClick="hidePanel()">X</div>
      <div class="display victory hidden">
        <h2>Victory!</h2>
        <p>Hearts Remaining: <b class="score">0</b></p>
        <p class="percentscore">Score: <span class="percent"></span>%</p>
        <p>Best today: <span class="todaybest"></span>%</p>
        <p>Streak: <span class="streak"></span></p>
        <p>Next Board in <span class="countdown"></span></p>
      </div>
      <div class="display failed hidden">
        <h2>Failed...</h2>
        <p class="percentscore">Score: 0%</p>
        <p>Best today: <span class="todaybest"></span></p>
      </div>
      <div class="display how hidden">
        <h2>How to Play</h2>
        <p>Clear the field of opponents!</p>
        <p>You play as dark pieces. Each piece moves once per round.</p>
        <p>Each piece can move in a specific pattern, but not through other pieces of over gaps (except Knights).</p>
        <p>After moving (or remaining in place), a piece can attack any adjacent opponent.</p>
        <p>There is no randomness to enemy AI.</p>
        <p>
          <span class="sigil icon-fire"></span> beats <span class="sigil icon-grass"></span>, 
          <span class="sigil icon-grass"></span> beats <span class="sigil icon-water"></span>, 
          <span class="sigil icon-water"></span> beats <span class="sigil icon-fire"></span>.
        </p>
        <p>When attacking a weak element, the defender will lose two hearts.</p>
        <p>When attacking a matching element, the defender will lose one heart.</p>
        <p>When attacking a strong element, the attacker and defender will <b>both</b> lose one heart.</p>
        <p>Your score is the number of hearts you have remaining after the board is cleared!</p>
        <p>A new board is available every day!</p>
      </div>
    </div>
  </div>

  <div class="about"><a href="https://twitter.com/delzhand">questions?</a></div>
  <div class="version"></div>

  <script>
    init();
  </script>
</body>
</html>